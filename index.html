<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Nombre Quijotesco Navideño · Ciudad Real</title>

<style>
/* ================= RESET ================= */
* { box-sizing: border-box; margin: 0; padding: 0; }
body {
  font-family: "Trebuchet MS", Arial, sans-serif;
  background: radial-gradient(circle at top, #1b3a2b, #0b1a14);
  color: #fff;
  min-height: 100vh;
  overflow: hidden;
}

/* ================= UTILIDADES ================= */
.hidden { display: none; }
.center { text-align: center; }
button {
  cursor: pointer;
  border: none;
  padding: 18px 32px;
  font-size: 1.2rem;
  border-radius: 12px;
  background: linear-gradient(135deg, #c62828, #f4c430);
  color: #fff;
  font-weight: bold;
  box-shadow: 0 0 15px rgba(255,215,0,.6);
}
button:hover { transform: scale(1.05); }

/* ================= LUCES ================= */
.lights {
  position: absolute;
  inset: -10px;
  pointer-events: none;
}
.light {
  width: 14px;
  height: 14px;
  border-radius: 50%;
  position: absolute;
  animation: blink 1.8s infinite alternate;
}
.light.red { background:#e53935; box-shadow:0 0 10px #e53935; }
.light.green { background:#43a047; box-shadow:0 0 10px #43a047; }
.light.yellow { background:#fdd835; box-shadow:0 0 10px #fdd835; }

@keyframes blink {
  from { opacity: .4; }
  to { opacity: 1; }
}

/* ================= NIEVE / ESTRELLAS ================= */
.star {
  position: absolute;
  color: rgba(255,255,255,.8);
  animation: fall linear infinite;
}
@keyframes fall {
  from { transform: translateY(-10vh); }
  to { transform: translateY(110vh); }
}

/* ================= CONTENEDORES ================= */
.screen {
  position: absolute;
  inset: 0;
  display: flex;
  justify-content: center;
  align-items: center;
}
.card {
  position: relative;
  background: rgba(255,255,255,.08);
  border-radius: 24px;
  padding: 50px 40px;
  width: min(90%, 520px);
  backdrop-filter: blur(6px);
}

/* ================= TITULOS ================= */
h1 {
  font-size: 2.6rem;
  margin-bottom: 15px;
  font-weight: 900;
}
h2 {
  font-size: 1.3rem;
  font-weight: normal;
  margin-bottom: 30px;
}

/* ================= SELECTS ================= */
select {
  width: 100%;
  padding: 14px;
  margin: 10px 0 20px;
  font-size: 1.1rem;
  border-radius: 10px;
  border: none;
}

/* ================= RESULTADO ================= */
.result-name {
  font-size: 2.4rem;
  font-weight: 900;
  margin-bottom: 20px;
  text-shadow: 0 0 15px gold;
}
.result-phrase {
  font-style: italic;
  opacity: .9;
}

/* ================= CARGA ================= */
.loader {
  width: 80px;
  height: 80px;
  border-radius: 50%;
  border: 6px solid rgba(255,255,255,.3);
  border-top-color: gold;
  animation: spin 1s linear infinite;
  margin: 0 auto 20px;
}
@keyframes spin {
  to { transform: rotate(360deg); }
}
</style>
</head>

<body>

<!-- ESTRELLAS -->
<script>
for(let i=0;i<60;i++){
  const s=document.createElement("div");
  s.className="star";
  s.style.left=Math.random()*100+"vw";
  s.style.animationDuration=5+Math.random()*10+"s";
  s.style.fontSize=10+Math.random()*10+"px";
  s.innerText="✦";
  document.body.appendChild(s);
}
</script>

<!-- PANTALLA 1 -->
<div id="screen1" class="screen">
  <div class="card center">
    <div class="lights" id="lights1"></div>
    <h1>Descubre tu nombre quijotesco</h1>
    <h2>Donde se mezcla la magia de la Navidad con la locura de los caballeros andantes</h2>
    <button onclick="goTo(2)">¡CREA MI NOMBRE!</button>
  </div>
</div>

<!-- PANTALLA 2 -->
<div id="screen2" class="screen hidden">
  <div class="card center">
    <div class="lights" id="lights2"></div>
    <h1>Elige tu nacimiento</h1>
    <select id="day">
      <option value="">Día</option>
      <script>
        for(let i=1;i<=31;i++){
          document.write(`<option value="${i}">${i}</option>`);
        }
      </script>
    </select>
    <select id="month">
      <option value="">Mes</option>
      <option>Enero</option><option>Febrero</option><option>Marzo</option>
      <option>Abril</option><option>Mayo</option><option>Junio</option>
      <option>Julio</option><option>Agosto</option><option>Septiembre</option>
      <option>Octubre</option><option>Noviembre</option><option>Diciembre</option>
    </select>
    <button onclick="generate()">✨ DESVELAR MI NOMBRE</button>
  </div>
</div>

<!-- PANTALLA 3 -->
<div id="screen3" class="screen hidden">
  <div class="card center">
    <div class="loader"></div>
    <p>Consultando los libros…<br>mezclando magia navideña y locura hidalga</p>
  </div>
</div>

<!-- PANTALLA 4 -->
<div id="screen4" class="screen hidden">
  <div class="card center">
    <div class="lights" id="lights4"></div>
    <div id="result" class="result-name"></div>
    <div class="result-phrase">
      Dichosa edad y dichosos tiempos aquellos en los que este nombre
      sea pronunciado estas Navidades en la noble Ciudad Real.
    </div>
  </div>
</div>

<script>
function goTo(n){
  document.querySelectorAll(".screen").forEach(s=>s.classList.add("hidden"));
  document.getElementById("screen"+n).classList.remove("hidden");
}

const namesDay = [
  "Don Hidalgo","Doña Andante","Don Caballero","Doña Venturosa",
  "Don Errante","Doña Valiente","Don Noble","Doña Gallarda"
];

const namesMonth = [
  "del Polvorón","del Turrón","de la Estrella","del Belén",
  "del Trineo","del Muérdago","de la Nieve","del Roscón",
  "del Portal","del Candil","del Rey Mago","de la Campana"
];

function generate(){
  const d=document.getElementById("day").value;
  const m=document.getElementById("month").selectedIndex-1;
  if(!d || m<0) return alert("Selecciona día y mes");

  goTo(3);
  setTimeout(()=>{
    const name = namesDay[d % namesDay.length] + " " + namesMonth[m];
    document.getElementById("result").innerText = name;
    goTo(4);
  },5000);
}

/* CREAR LUCES */
function makeLights(id){
  const c=document.getElementById(id);
  for(let i=0;i<30;i++){
    const l=document.createElement("div");
    l.className="light "+["red","green","yellow"][i%3];
    l.style.left=(i*100/30)+"%";
    l.style.top=(i%2? "-8px":"calc(100% - 6px)");
    c.appendChild(l);
  }
}
makeLights("lights1");
makeLights("lights2");
makeLights("lights4");
</script>

</body>
</html>
